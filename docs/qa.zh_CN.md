# MetaTocom Questions & Answers

## 为什么我新建的流程别人看不到

MTC 在新建模版时，将模版的可见人，设置为作者本人。因此，其它人看不到。
这样做的目的，是防止在流程尚不完善时被他人使用。

在流程修改完善以后，即可去除这个可见人，使所有人可见，或者指定部分人，使部分人可见

## 如何让每个流程只能部分人可见

在流程模版列表中，选择设置，在“对谁可见”中输入这部分人即可。
参见文档中的 “流程规划 -> 模版浏览 -> 模版设置”

## 如何将新工作任务提醒发送到个人邮箱

进入 “设置-> 个人设置", 设置 “有新任务时发送邮件给我”为选中状态.
取消选中状态，则当有新任务时不再发送邮件

## 如何在有新工作任务时发送提醒到企业微信

1. 在企业微信中拉另外两个人，建立一个群
2. 此时，可以在群中添加机器人，检查机器人的 URL 地址，并将最后面的 key 值复制出来
3. 进入“设置 -> 待办机器人 -> 点击添加，
4. 录入需要提醒的流程模版编号和企业微信机器人的 ID，如归属于每个流程的新工作任务都需要接收企业微信通知，可使用“All”作为模版编号

此后，每当该流程中有你的新工作任务时，你就会在以上企业微信群里收到一个提醒信息。
注意：

1. 企业微信对单一机器人每分钟内的消息发送数量有限制，请勿依赖本提醒功能；
2. 建群时拉入的两个人，在成功添加机器人后，可以移出。这样就拥有了一个仅提醒你一个人的机器人

## 如何在工作项完成时发送通知给多个相关人

### 方法一，模版中使用 INFORM 节点

在一个工作项后放置一个通知节点，这个通知节点与需要将执行结果通知给相关人的当前节点的后续节点并列，其自身可以没有后续节点。
在通知节点中，指定多个收件人邮箱地址，在邮件内容中，用

```
[var_name]
```

方式嵌入流程数据，即可实现目的。

建议在公司邮箱服务器上建立相关的邮件列表地址，把相关人的邮箱地址加到这个邮件列表中，这样，在通知节点中只须设置这个单一邮件列表地址即可，不必每个相关人的邮箱地址逐一录入。

### 方法二，通知到企业微信群

方法与个人工作任务企业微信通知类似，只是这里是基于模版的，每个模版必须单独设置。

另外，企业微信的机器人消息有发送条数限制，MTC 支持从所指定的多个机器人随机地选取一个来发送消息。

方法如下：

1. 在 “设置 -> 数据列表 -> 列表定义” 中建立一个名为 “wecombots_tpl”的列表
2. 在该列表下 Key， **Key 的名字与所需要侦听的流程名称一致**
3. 在企业微信群中加入一到多个机器人，在消息数量较多时，机器人数量越多，越能保障消息不丢失
4. 将上述多个机器人的 key，粘贴到 KEY 的值输入框中， 每个 KEY 用 ; 分割

需要对哪个流程进行监控，只需要添加同名 KEY 即可

同时，也必须设定哪个工作节点需要发送通知，缺省是不发送的。如需发送，只须选中节点的“企微”选项

![企微通知](https://cdn.jsdelivr.net/gh/cnshsliu/static.xhw.mtc/img/doc/wechatbot_work.png)

### 如何根据条件来决定是否显示某个输入框

MetatoCome 支持显示条件表达式，可以基于一个变量(RV)的值来决定另一个变量（GV）的输入框是否显示

详情请参考英文帮助文档中的 “Designer -> Variable -> When”

## 如何查看流程上下文信息

流程的上下文信息由流程变量、内部变量和自定义变量组成

### 流程变量

流程变量是自动生成的变量，如 starterCN，表示流程启动者的显示名

### 内部变量

内部变量名以$开头，在用户操作界面上不作显示，但在脚本中可以使用。一个最常用的变量名是各个工作节点的决策值。变量名称为

```
$decsion_[节点ID]
```

每个节点的缺省 ID 是自动生成的，如觉得不方便，可以自行在节点属性窗口中进行修改。
比如，一个名为工作节点的 ID 为“approve”，节点标志为 “Application waiting for your approval", 它有“同意”和“不同意”两个选项，那么，变量

```
$decision_approve
```

就会包含这个节点完成时，用户所做的决策值， “同意”或者“不同意”

脚本节点的返回值也是同样的方法获得

### 自定义变量

自定义变量由流程设计者，在流程设计器中的节点属性窗口中定义

### 流程上下文信息

在每个工作任务操作界面的上部， 在选项按钮的下方，都会显示“流程上下文信息”，包括除内部变量以外的所有变量的值

在不同节点上用户输入变量值时，在时间线上，后面输入的值总是替代前面输入的值，作为流程的上下文信息中变量的值。

要查看同名变量的历史输入信息，只须浏览“流程执行记录”中每个节点的信息，节点上用户输入的值会显示出来。而且不同节点之间互不干扰。

## 什么是主要业务对象（PBO）

在业务上，流程总是围绕一个主题。例如，一个文档的审批流程的主题是被审批的文档； 一个产品的研发流程的主题是产品设计文档；

我们可以在启动流程时指定一个主要业务对象， 也可以在流程节点上添加、删除主要业务对象。

![allow_edit_pbo](https://cdn.jsdelivr.net/gh/cnshsliu/static.xhw.mtc/img/doc/allow_edit_pbo.png)
